<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>hawooo</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #020617, #0f172a);
  color: #f1f5f9;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  overflow: hidden;
}

canvas {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
}

.card {
  position: relative;
  background: #111827;
  padding: 24px;
  border-radius: 16px;
  width: 100%;
  max-width: 460px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.5);
  text-align: center;
  z-index: 2;
}

#pageGif {
  width: 100%;
  max-height: 180px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 15px;
  transition: opacity 0.3s ease;
}

.question {
  font-size: 18px;
  margin-bottom: 16px;
}

.rating button {
  width: 60px;
  margin: 4px;
  font-size: 16px;
}

textarea {
  width: 100%;
  min-height: 90px;
  border-radius: 10px;
  border: none;
  padding: 10px;
  margin-top: 10px;
  resize: none;
  font-family: Arial, sans-serif;
}

button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border: none;
  border-radius: 10px;
  background: #2563eb;
  color: white;
  font-size: 14px;
  cursor: pointer;
}

.secondary { background: #10b981; }

.result {
  margin-top: 12px;
  display: none;
  font-size: 16px;
}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="card">
  <h1>hi again bina...</h1>

  <!-- GIF -->
  <img id="pageGif" src="https://media.giphy.com/media/aE7wJrIV0qeLEKKrjn/giphy.gif" alt="gif">

  <p style="font-size:14px; opacity:0.8;">
    here we go again w/ this gaje html, but u dont have to answer it if u dont want to...
  </p>

  <button id="startBtn">lets start?</button>

  <div id="quiz" style="display:none;">
    <div class="question" id="question"></div>
    <div id="answers"></div>
  </div>

  <div class="result" id="result"></div>
  <button class="secondary" id="restart" style="display:none"></button>
</div>

<script>
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwOGD538Yuky1SnGHQKQN9B9O0q5cfq9f75uSmJT5jD23It64vWyH3b7NYBKFOhFcbndQ/exec";

/* ===========================
   QUESTIONS WITH GIF
=========================== */

const questions = [
  { 
    type: "rating", 
    q: "did u enjoy our date? (1–5)",
    gif: "https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif"
  },
  { 
    type: "rating", 
    q: "fr? (1–5)",
    gif: "https://media.giphy.com/media/n5iPVLeA1fvb0IYU5W/giphy.gif"
  },
  { 
    type: "rating", 
    q: "1 more, fr? (1–5)",
    gif: "https://media.giphy.com/media/1ViLp0GBYhTcA/giphy.gif"
  },
  { 
    type: "text", 
    q: "why?",
    gif: "https://media.giphy.com/media/13borq7Zo2kulO/giphy.gif"
  },
  { 
    type: "text", 
    q: "be honest, was there any part of our date that made you want to run away… or at least punch me on the head lmao",
    gif: "https://media.giphy.com/media/paf7IOKOacbzPinHQC/giphy.gif"
  },
  { 
    type: "text", 
    q: "u want another date?",
    gif: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExazg1OG5qNHBva2VjNmJ4NzY4a3J4ZXRjemx4YWhrbnY1d3h4ODZyYyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/aE7wJrIV0qeLEKKrjn/giphy.gif"
  }
];

let index = 0;
let total = 0;
let answers = [];

const pageGif = document.getElementById("pageGif");
const questionEl = document.getElementById("question");
const answersEl = document.getElementById("answers");
const resultEl = document.getElementById("result");
const restartBtn = document.getElementById("restart");
const startBtn = document.getElementById("startBtn");

function changeGif(url) {
  pageGif.style.opacity = 0;
  setTimeout(() => {
    pageGif.src = url;
    pageGif.style.opacity = 1;
  }, 150);
}

function showQuestion() {
  const current = questions[index];
  questionEl.textContent = current.q;
  answersEl.innerHTML = "";

  changeGif(current.gif);

  if (current.type === "rating") {
    const wrap = document.createElement("div");
    wrap.className = "rating";

    for (let i = 1; i <= 5; i++) {
      const btn = document.createElement("button");
      btn.textContent = i;
      btn.onclick = () => submitAnswer(i);
      wrap.appendChild(btn);
    }

    answersEl.appendChild(wrap);
  } else {
    const textarea = document.createElement("textarea");
    textarea.placeholder = "answer here..";

    const btn = document.createElement("button");
    btn.textContent = "send";
    btn.onclick = () => submitAnswer(textarea.value || "(empty)");

    answersEl.appendChild(textarea);
    answersEl.appendChild(btn);
  }
}

function submitAnswer(val) {
  answers.push({ q: questions[index].q, a: val });
  if (typeof val === "number") total += val;
  index++;

  if (index < questions.length) showQuestion();
  else showResult();
}

function showResult() {
  document.getElementById("quiz").style.display = "none";
  resultEl.style.display = "block";
  restartBtn.style.display = "block";

  changeGif("https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif");

  const maxScore = questions.filter(q => q.type === "rating").length * 5;
  const highThreshold = maxScore * 0.8;

  if (total >= highThreshold) {
    restartBtn.textContent = "i'd promise u on the next date i will make the itinerary...";
    launchFireworks(120);
  } else {
    resultEl.textContent = "thanks for answering honestly.";
    launchFireworks(40);
  }
}

restartBtn.onclick = () => location.reload();

startBtn.onclick = () => {
  startBtn.style.display = "none";
  document.getElementById("quiz").style.display = "block";
  showQuestion();
};

/* ===========================
   FIREWORKS
=========================== */

const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

let particles = [];

function launchFireworks(amount) {
  for (let i = 0; i < amount; i++) {
    particles.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height / 2,
      dx: (Math.random() - 0.5) * 4,
      dy: (Math.random() - 0.5) * 4,
      life: 80
    });
  }
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  particles.forEach(p => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
    ctx.fillStyle = `hsl(${Math.random() * 360},100%,60%)`;
    ctx.fill();
    p.x += p.dx;
    p.y += p.dy;
    p.life--;
  });

  particles = particles.filter(p => p.life > 0);
  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
